description: >
  Complete job to upload Playwright test reports to TestDino.
  This job handles installation and uploading of test reports in a single step.

executor:
  name: default
  tag: << parameters.node_version >>

parameters:
  report_directory:
    type: string
    default: "./playwright-report"
    description: "Path to the Playwright report directory"

  token:
    type: env_var_name
    default: TESTDINO_TOKEN
    description: "Environment variable containing TestDino API token"

  node_version:
    type: string
    default: "lts"
    description: "Node.js version tag for the executor"

steps:
  - checkout
  - upload_report:
      report_directory: << parameters.report_directory >>
      token: << parameters.token >>
